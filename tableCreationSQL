CREATE TABLE public.USER
(
  username INT NOT NULL,
  password_hash INT NOT NULL,
  Role INT NOT NULL,
  flagged_count INT NOT NULL,
  user_id INT NOT NULL,
  PRIMARY KEY (user_id),
  UNIQUE (username)
);

CREATE TABLE QUESTION
(
  QUESTION_ID INT NOT NULL,
  question_text INT NOT NULL,
  flagged_for_review INT NOT NULL,
  user_id INT NOT NULL,
  PRIMARY KEY (QUESTION_ID),
  FOREIGN KEY (user_id) REFERENCES public.USER(user_id)
);

CREATE TABLE ANSWER
(
  ANSWER_ID INT NOT NULL,
  answer_text INT NOT NULL,
  PRIMARY KEY (ANSWER_ID)
);

CREATE TABLE ATTEMPT
(
);

CREATE TABLE Has
(
  Correct INT NOT NULL,
  QUESTION_ID INT NOT NULL,
  ANSWER_ID INT NOT NULL,
  PRIMARY KEY (QUESTION_ID, ANSWER_ID),
  FOREIGN KEY (QUESTION_ID) REFERENCES QUESTION(QUESTION_ID),
  FOREIGN KEY (ANSWER_ID) REFERENCES ANSWER(ANSWER_ID)
);

CREATE TABLE QUIZ
(
  QUIZ_ID INT NOT NULL,
  user_id INT NOT NULL,
  PRIMARY KEY (QUIZ_ID),
  FOREIGN KEY (user_id) REFERENCES public.USER(user_id)
);

CREATE TABLE Contains
(
  QUIZ_ID INT NOT NULL,
  QUESTION_ID INT NOT NULL,
  PRIMARY KEY (QUIZ_ID, QUESTION_ID),
  FOREIGN KEY (QUIZ_ID) REFERENCES QUIZ(QUIZ_ID),
  FOREIGN KEY (QUESTION_ID) REFERENCES QUESTION(QUESTION_ID)
);
